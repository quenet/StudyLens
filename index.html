<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StudyLens AI</title>

<script src="https://unpkg.com/tesseract.js@4.0.2/dist/tesseract.min.js"></script>

<style>
:root {
    --nav-height: 64px;
}

* { margin:0; padding:0; box-sizing:border-box; }

html, body {
    height: 100%;
    overflow-y: auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Noto Sans KR', sans-serif;
    background: linear-gradient(135deg,#667eea,#764ba2);
}

/* ================= FIXED NAV ================= */
.top-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--nav-height);
    background: #ffffff;
    z-index: 10000;
    box-shadow: 0 2px 12px rgba(0,0,0,0.2);
}

.top-nav-inner {
    height: 100%;
    display: flex;
    overflow-x: auto;
}

.top-nav a {
    flex: 1 0 auto;
    min-width: 120px;
    text-align: center;
    line-height: var(--nav-height);
    font-weight: 600;
    font-size: 14px;
    text-decoration: none;
    color: white;
    background: #4c51bf;
    border-right: 1px solid rgba(255,255,255,0.3);
}

/* ================= CONTENT ================= */
.content {
    padding-top: calc(var(--nav-height) + 12px);
    padding-left: 15px;
    padding-right: 15px;
}

/* anchor ë³´ì • */
section {
    scroll-margin-top: calc(var(--nav-height) + 10px);
}

/* ================= SECTION ================= */
.section {
    background: white;
    border-radius: 14px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

/* ================= CAMERA ================= */
.camera-container {
    max-width: 640px;
    margin: auto;
}

video, canvas {
    width: 100%;
    border-radius: 12px;
    border: 3px solid #4c51bf;
}

/* ================= BUTTON ================= */
button {
    margin: 6px 0;
    padding: 12px;
    width: 100%;
    border-radius: 8px;
    border: none;
    background: #4c51bf;
    color: white;
    font-weight: 600;
}

.subject-btn {
    background: white;
    border: 2px solid #4c51bf;
    color: #4c51bf;
}
</style>
</head>

<body>

<!-- ===== FIXED MENU ===== -->
<nav class="top-nav">
  <div class="top-nav-inner">
    <a href="#tracker">ğŸ“¸ êµê³¼ì„œ ì¸ì‹</a>
    <a href="#goal">ğŸ¯ ëª©í‘œ ëŒ€í•™</a>
    <a href="#grade">ğŸ“Š ì„±ì  ë¶„ì„</a>
    <a href="#dashboard">ğŸ“ˆ ëŒ€ì‹œë³´ë“œ</a>
  </div>
</nav>

<div class="content">

<section id="tracker" class="section">
<h2>ğŸ“¸ êµê³¼ì„œ ìë™ ì¸ì‹</h2>
<div class="camera-container">
    <video id="webcam" autoplay playsinline></video>
    <canvas id="canvas"></canvas>
</div>
<button onclick="startCamera()">ğŸ¥ ì¹´ë©”ë¼ ì‹œì‘</button>
<button onclick="captureTextbook()">ğŸ“¸ ìˆ˜ë™ ì¸ì‹</button>
<button onclick="startAutoRecognition()">ğŸ”„ ìë™ ì¸ì‹</button>
<p id="status">ëŒ€ê¸°ì¤‘...</p>
</section>

<section id="goal" class="section">
<h2>ğŸ¯ ëª©í‘œ ëŒ€í•™</h2>
<select>
<option>ì„œìš¸ëŒ€í•™êµ</option>
<option>ì—°ì„¸ëŒ€í•™êµ</option>
<option>ê³ ë ¤ëŒ€í•™êµ</option>
</select>
</section>

<section id="grade" class="section">
<h2>ğŸ“Š ì„±ì  ë¶„ì„</h2>
<input type="number" placeholder="êµ­ì–´ ë“±ê¸‰">
<input type="number" placeholder="ìˆ˜í•™ ë“±ê¸‰">
<input type="number" placeholder="ì˜ì–´ ë“±ê¸‰">
</section>

<section id="dashboard" class="section">
<h2>ğŸ“ˆ í•™ìŠµ ëŒ€ì‹œë³´ë“œ</h2>
<p>ëª¨ë“  í•™ìŠµ í†µê³„ ìœ ì§€</p>
</section>

</div>

<script>
let stream, autoTimer;

async function startCamera(){
    stream = await navigator.mediaDevices.getUserMedia({ video:{ facingMode:'environment' }});
    document.getElementById('webcam').srcObject = stream;
}

async function captureTextbook(){
    const v=document.getElementById('webcam');
    const c=document.getElementById('canvas');
    const x=c.getContext('2d');
    c.width=v.videoWidth; c.height=v.videoHeight;
    x.drawImage(v,0,0);
    document.getElementById('status').innerText='OCR ì¸ì‹ ì¤‘...';
    const r=await Tesseract.recognize(c,'kor+eng');
    document.getElementById('status').innerText=r.data.text ? 'âœ… í…ìŠ¤íŠ¸ ê°ì§€ë¨':'âŒ ì‹¤íŒ¨';
}

function startAutoRecognition(){
    if(autoTimer) return;
    autoTimer=setInterval(captureTextbook,3000);
}
</script>

</body>
</html>
